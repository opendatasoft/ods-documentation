{% extends '!layout.html' %}

{%- block extrahead %}
<style type="text/css">
    .ods-logo {
        width: 60px !important;
        margin-bottom: 10px !important;
    }
    .wy-table-responsive table td,
    .wy-table-responsive table th {
        white-space: initial;
    }
    .wy-table td,
    .rst-content table.docutils td,
    .rst-content table.field-list td {
        vertical-align: top
    }

    .algolia-autocomplete {
        width: 100%;
    }
</style>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
{% endblock %}
{% block sidebartitle %}

<a href="{{ pathto(master_doc) }}">
    <img src="{{ pathto('_static/' + logo, 1) }}" class="logo ods-logo"/>
    {{ project }}
</a>

{% if theme_display_version %}
{%- set nav_version = version %}
{% if READTHEDOCS and current_version %}
{%- set nav_version = current_version %}
{% endif %}
{% if nav_version %}
<div class="version">
    {{ nav_version }}
</div>
{% endif %}
{% endif %}

{% include "searchbox.html" %}

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41201218-6', 'auto');
  ga('send', 'pageview');
</script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
    var search = docsearch({
        apiKey: 'bb766758a6a056d3d0e6e8ae19f99984',
        indexName: 'opendatasoft',
        inputSelector: '#rtd-search-form input[name="q"]',
        algoliaOptions: { 'facetFilters': ["language:{{ language }}"] },
        /*
        autocompleteOptions: {
            templates: {
                empty: '<div class="algolia-docsearch-suggestion">' +
                    '   <div class="algolia-docsearch-suggestion--wrapper">' +
                    '       <div class="algolia-docsearch-suggestion--content algolia-docsearch-suggestion--no-results">' +
                    '           <div class="algolia-docsearch-suggestion--title">' +
                    '               <div class="algolia-docsearch-suggestion--text">' +
                    {% if language == 'fr' %}
                    {% raw %}'                   Aucun r√©sultat pour la recherche <b>"{{{query}}}"</b>' + {% endraw %}
                    {% else %}
                    {% raw %}'                   No results found for query <b>"{{{query}}}"</b>' +{% endraw %}
                    {% endif %}
                    '               </div>' +
                    '           </div>' +
                    '       </div>' +
                    '   </div>' +
                    '</div>'
            }
        },*/
        debug: false // Set debug to true if you want to inspect the dropdown
    });

    search.autocomplete.on('autocomplete:opened', function(e) {
        // Sphinx's magical side menu does voodoo stuff with overflows, we need
        // to cut that for a moment.
        $('.wy-nav-side').css('overflow', 'visible');
        $('.wy-side-scroll').css('overflow', 'visible');
    });
    search.autocomplete.on('autocomplete:closed', function(e) {
        $('.wy-nav-side').css('overflow', 'hidden');
        $('.wy-side-scroll').css('overflow-x', 'hidden');
        $('.wy-side-scroll').css('overflow-y', 'scroll');
    });
</script>

<!-- Start of Async HubSpot Analytics Code -->
<script type="text/javascript">
(function(d,s,i,r) {
  if (d.getElementById(i)){return;}
  var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
  n.id=i;n.src='//js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/2041226.js';
  e.parentNode.insertBefore(n, e);
})(document,"script","hs-analytics",300000);
</script>
<!-- End of Async HubSpot Analytics Code -->
{% endblock %}
